<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Checkout - ShopSmart</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
body { background:#f0f2f5; color:#333; }

/* Navbar */
header {
  display:flex; justify-content:space-between; align-items:center;
  padding:15px 50px; background: linear-gradient(90deg,#007BFF,#00C6FF);
  color:#fff; box-shadow:0 5px 15px rgba(0,0,0,0.2); border-bottom-left-radius:20px; border-bottom-right-radius:20px;
}
.logo { font-size:28px; font-weight:bold; cursor:pointer; transition:0.3s; }
.logo:hover { color:#ffe600; }
nav ul { list-style:none; display:flex; gap:25px; }
nav ul li a { text-decoration:none; color:#fff; font-weight:600; transition:0.3s; }
nav ul li a:hover { color:#ffe600; }
.user-icon { width:40px; height:40px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:bold; margin-left:10px; cursor:pointer; transition:0.3s; }
.user-icon.profile { background: linear-gradient(135deg,#ff6600,#ffcc00); color:#fff; }
.user-icon.cart { background: linear-gradient(135deg,#00c6ff,#007BFF); color:#fff; }

/* Checkout Container */
.checkout-container {
  max-width:800px; margin:50px auto; background:#fff; padding:40px; border-radius:25px;
  box-shadow:0 10px 30px rgba(0,0,0,0.1);
}
.checkout-container h2 { text-align:center; color:#007BFF; margin-bottom:30px; font-size:32px; }

/* Order Summary */
#orderSummary {
  background: linear-gradient(135deg,#e0f7ff,#ffffff);
  padding:20px; border-radius:15px; box-shadow:0 5px 15px rgba(0,0,0,0.1); margin-bottom:30px;
}
#orderSummary h3 { color:#007BFF; margin-bottom:15px; }
#orderSummary ul { list-style:none; padding-left:0; }
#orderSummary ul li { padding:10px; border-bottom:1px solid #ddd; font-weight:bold; color:#333; }
#orderSummary p { text-align:right; font-size:20px; font-weight:bold; color:#ff6600; margin-top:15px; }

/* Payment Buttons */
.payment-container { display:flex; justify-content:space-around; margin:20px 0; gap:15px; flex-wrap:wrap; }
.payment-btn {
  flex:1; min-width:120px; padding:15px; border:none; border-radius:50px;
  background:linear-gradient(135deg,#007BFF,#00C6FF); color:#fff; font-weight:bold; cursor:pointer;
  font-size:16px; transition:all 0.3s; box-shadow:0 5px 20px rgba(0,0,0,0.2);
}
.payment-btn:hover { transform:scale(1.05); }
.payment-btn.selected { background:linear-gradient(135deg,#28a745,#20c997); box-shadow:0 5px 25px rgba(0,0,0,0.3); }

/* Place Order Button */
.place-order-btn {
  width:100%; padding:15px; border:none; border-radius:50px;
  background:linear-gradient(135deg,#ff6600,#ffcc00); color:#fff; font-weight:bold;
  font-size:18px; cursor:pointer; transition:all 0.3s; box-shadow:0 5px 20px rgba(0,0,0,0.2); display:block; margin-top:20px;
}
.place-order-btn:hover { background:linear-gradient(135deg,#ffcc00,#ff6600); transform:scale(1.05); }

/* Responsive */
@media(max-width:768px){
  header { flex-direction:column; gap:15px; padding:15px 20px; }
  nav ul { flex-wrap:wrap; justify-content:center; gap:15px; }
  .payment-container { flex-direction:column; align-items:center; }
}
</style>
</head>
<body>

<header>
  <div class="logo" onclick="location.href='index.html'">ShopSmart</div>
  <nav>
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="products.html">Products</a></li>
      <li><a href="about.html">About Us</a></li>
      <li><a href="contact.html">Contact</a></li>
    </ul>
  </nav>
  <div style="display:flex; align-items:center;">
    <div class="user-icon profile" onclick="location.href='profile.html'">U</div>
    <div class="user-icon cart">ðŸ›’ <span id="cartCount">0</span></div>
  </div>
</header>

<div class="checkout-container">
  <h2>Checkout</h2>
  <div id="orderSummary"></div>

  <h3>Select Payment Method</h3>
  <div class="payment-container">
    <button class="payment-btn" data-payment="Credit/Debit Card">Credit/Debit</button>
    <button class="payment-btn" data-payment="UPI">UPI</button>
    <button class="payment-btn" data-payment="Cash on Delivery">Cash on Delivery</button>
  </div>

  <button class="place-order-btn" id="placeOrderBtn">Place Order</button>
</div>

<script>
// Load cart
let cart = JSON.parse(localStorage.getItem("cart")) || [];
const orderSummaryDiv = document.getElementById("orderSummary");

function renderOrderSummary(){
  if(cart.length===0){ 
    orderSummaryDiv.innerHTML="<p>Cart is empty.</p>"; 
    return; 
  }
  let html = "<h3>Order Summary:</h3><ul>";
  let total=0;
  cart.forEach(item=>{
    html += `<li>${item.name} x ${item.quantity} - â‚¹${(item.price*item.quantity).toLocaleString()}</li>`;
    total += item.price*item.quantity;
  });
  html += `</ul><p>Total: â‚¹${total.toLocaleString()}</p>`;
  orderSummaryDiv.innerHTML = html;
}
renderOrderSummary();

// Update navbar cart count
document.getElementById("cartCount").innerText = cart.reduce((sum,item)=>sum+item.quantity,0);

// Payment selection
let selectedPayment = "";
const paymentBtns = document.querySelectorAll(".payment-btn");
paymentBtns.forEach(btn=>{
  btn.addEventListener("click",()=>{
    paymentBtns.forEach(b=>b.classList.remove("selected"));
    btn.classList.add("selected");
    selectedPayment = btn.dataset.payment;
  });
});

// Place Order
document.getElementById("placeOrderBtn").addEventListener("click",()=>{
  if(cart.length===0){ alert("Cart is empty!"); return; }
  if(selectedPayment===""){ alert("Please select a payment method!"); return; }

  const order = {
    shopName: "ShopSmart",
    dateTime: new Date().toLocaleString(),
    cart: cart,
    total: cart.reduce((sum,item)=>sum+item.price*item.quantity,0),
    payment: selectedPayment
  };
  let orders = JSON.parse(localStorage.getItem("orders")) || [];
  orders.push(order);
  localStorage.setItem("orders", JSON.stringify(orders));
  localStorage.removeItem("cart");
  alert("âœ… Order placed successfully!");
  window.location.href="order-confirm.html";
});
</script>

</body>
</html>
